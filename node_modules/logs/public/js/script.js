angular.module('myApp', [])
.controller('mainController', ($scope, $http, $interval, $location) => {
  $scope.search_server = "All";
  if(window.location.pathname.toLowerCase().indexOf("bitmark")           >= 0) $scope.search_server = 'bitmark'
  if(window.location.pathname.toLowerCase().indexOf("cryptinex")         >= 0) $scope.search_server = 'Cryptinex'
  if(window.location.pathname.toLowerCase().indexOf("alctoin-investing") >= 0) $scope.search_server = 'Altcoin Investing'
  if(window.location.pathname.toLowerCase().indexOf("alctoininvesting")  >= 0) $scope.search_server = 'Altcoin Investing'
  if(window.location.pathname.toLowerCase().indexOf("leathan.xyz")       >= 0) $scope.search_server = 'leathan.xyz'
  var reqObj  = { method: 'GET', url: '/api/logs',  headers: { 'dont-log': "This wont be logged by the server" } }
  $http.get("/api/logs").then((res) => { $scope.logs = res.data; })
  $interval(() => {
    $http(reqObj).then((res) => {
      $scope.logs = res.data;
    })
  }, 10500);
})
//.filter('reverse', () => {
//  return (items) => {
//    if (typeof items !== 'undefined') {
//      return items.slice().reverse();
//    }
//  }
//})
