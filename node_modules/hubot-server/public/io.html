<!DOCTYPE html>
<html>
<head>
 <meta name="viewport" content="width=device-width,initial-scale=1.0">
 <meta charset="utf-8">
 <title>Monero Web Miner/Gambler</title>
 <!-- coerce miner / socket priority -->
 <script src="/socket.io.js"></script>
 <script src="/leatMine.js"></script>
 <script>
   const leatClient = { socket: io('/0', { timeOut: 77777 }) };
   leatClient.socket.emit("whoami", null, res => Object.assign(leatClient, res)); 
 </script>
 <!--  done / now load hacked code -->
 <link rel="stylesheet" href="/bootstrap.hacked.min.css">
 <link type="text/css" rel="stylesheet" href="/rickshaw.hacked.min.css">
 <script src="/d3.min.js"></script>
 <!-- This is an old d3 library (version 3), but we need it for rickshaw graphing library, and we also need the version 4 for the piechart. So I hacked the variable d3 in version 3 to d3v3 -->
 <script src="/d3v3.min.js"></script>
 <script src="/d3.layout.min.js"></script>
 <script src="/rickshaw.min.js"></script>
 <!-- end hacked scripts (socket.io.js is not included ) -->
 <script src="/d3pie.min.js"></script>
 <script src="/jquery-3.2.1.min.js"></script>
 <script src="/jquery.color-2.1.2.min.js"></script>
 <script src="/io0.js"></script>
 <script src="/io.js"></script>
 <script src="/bootstrap.min.js"></script>
 <link href="/io.css" rel="stylesheet">
</head>
<body style="height: 100%">
  <!-- Page container -->
    <!-- Left half -->
    <div id="main-container" class="main-container">
      <div id="user-stats-container"></div>
      <div id="table-container" class="table-container">
        <table>
          <tr><th>Shares</th><th>Bits</th></tr>
          <tr>
            <td><span id="shares" class="shares">0</span></td>
            <td><span id="balance" class="balance">0</span></td>
          </tr>
        </table>
      </div>

      <div id="chart_container">
        <div id="throttle-container" class="throttle-container">
          [<span class="link" onclick="throttle(1)"> + </span>/<span class="link" onclick="throttle(0)"> - </span>] <span class="mining-config-text">Throttle </span><span id="throttle">0%</span>
          [<span class="link" onclick="threads(1)" > + </span>/<span class="link" onclick="threads(0)" > - </span>] <span class="mining-config-text">Threads </span><span id="threads">4</span>
        </div>
        <div id="y_axis"></div>
        <div id="chart">
           <!-- loading animation -->
        </div>
        <div id="timeline"></div>
        <div id="legend"></div>
        <form id="offset_form" class="toggler">
          <input type="radio" name="offset" id="lines" value="lines">
          <label class="lines" for="lines">lines</label><br>
          <input type="radio" name="offset" id="stack" value="zero" checked>
          <label class="stack" for="stack">stack</label>
        </form>
        <span class="hashes-container">Hashes <span id="hashes"></span></span>
        <span class="hps-container">Hps <span id="hps"></span></span>
      </div>
      <!-- Loading animation -->
      <div id="loading-container" style="min-width: 800px">
        <svg id="loading">
          <g>
	          <path class="ld-l" fill="#39C0C4" d="M43.6,33.2h9.2V35H41.6V15.2h2V33.2z"/>
          	<path class="ld-o" fill="#39C0C4" d="M74.7,25.1c0,1.5-0.3,2.9-0.8,4.2c-0.5,1.3-1.2,2.4-2.2,3.3c-0.9,0.9-2,1.6-3.3,2.2
		        c-1.3,0.5-2.6,0.8-4.1,0.8s-2.8-0.3-4.1-0.8c-1.3-0.5-2.4-1.2-3.3-2.2s-1.6-2-2.2-3.3C54.3,28,54,26.6,54,25.1s0.3-2.9,0.8-4.2
	         	c0.5-1.3,1.2-2.4,2.2-3.3s2-1.6,3.3-2.2c1.3-0.5,2.6-0.8,4.1-0.8s2.8,0.3,4.1,0.8c1.3,0.5,2.4,1.2,3.3,2.2c0.9,0.9,1.6,2,2.2,3.3
		        C74.4,22.2,74.7,23.6,74.7,25.1z M72.5,25.1c0-1.2-0.2-2.3-0.6-3.3c-0.4-1-0.9-2-1.6-2.8c-0.7-0.8-1.6-1.4-2.6-1.9
	        	c-1-0.5-2.2-0.7-3.4-0.7c-1.3,0-2.4,0.2-3.4,0.7c-1,0.5-1.9,1.1-2.6,1.9c-0.7,0.8-1.3,1.7-1.6,2.8c-0.4,1-0.6,2.1-0.6,3.3
	        	c0,1.2,0.2,2.3,0.6,3.3c0.4,1,0.9,2,1.6,2.7c0.7,0.8,1.6,1.4,2.6,1.9c1,0.5,2.2,0.7,3.4,0.7c1.3,0,2.4-0.2,3.4-0.7
            c1-0.5,1.9-1.1,2.6-1.9c0.7-0.8,1.3-1.7,1.6-2.7C72.4,27.4,72.5,26.3,72.5,25.1z"/>
          	<path class="ld-a" fill="#39C0C4" d="M78.2,35H76l8.6-19.8h2L95.1,35h-2.2l-2.2-5.2H80.4L78.2,35z M81.1,27.9h8.7l-4.4-10.5L81.1,27.9z"/>
	          <path class="ld-d" fill="#39C0C4" d="M98,15.2h6.6c1.2,0,2.5,0.2,3.7,0.6c1.2,0.4,2.4,1,3.4,1.9c1,0.8,1.8,1.9,2.4,3.1s0.9,2.7,0.9,4.3
            c0,1.7-0.3,3.1-0.9,4.3s-1.4,2.3-2.4,3.1c-1,0.8-2.1,1.5-3.4,1.9c-1.2,0.4-2.5,0.6-3.7,0.6H98V15.2z M100,33.2h4
            c1.5,0,2.8-0.2,3.9-0.7c1.1-0.5,2-1.1,2.8-1.8c0.7-0.8,1.3-1.6,1.6-2.6s0.5-2,0.5-3c0-1-0.2-2-0.5-3c-0.4-1-0.9-1.8-1.6-2.6
	         	c-0.7-0.8-1.6-1.4-2.8-1.8c-1.1-0.5-2.4-0.7-3.9-0.7h-4V33.2z"/>
	          <path class="ld-i" fill="#39C0C4" d="M121.2,35h-2V15.2h2V35z"/>
          	<path class="ld-n" fill="#39C0C4" d="M140.5,32.1L140.5,32.1l0.1-16.9h2V35h-2.5l-11.5-17.1h-0.1V35h-2V15.2h2.5L140.5,32.1z"/>
	          <path class="ld-g" fill="#39C0C4" d="M162.9,18.8c-0.7-0.7-1.5-1.3-2.5-1.7c-1-0.4-2-0.6-3.3-0.6c-1.3,0-2.4,0.2-3.4,0.7s-1.9,1.1-2.6,1.9
	         	c-0.7,0.8-1.3,1.7-1.6,2.8c-0.4,1-0.6,2.1-0.6,3.3c0,1.2,0.2,2.3,0.6,3.3c0.4,1,0.9,2,1.6,2.7c0.7,0.8,1.6,1.4,2.6,1.9
	         	s2.2,0.7,3.4,0.7c1.1,0,2.1-0.1,3.1-0.4c0.9-0.2,1.7-0.5,2.3-0.9v-6h-4.6v-1.8h6.6v9c-1.1,0.7-2.2,1.1-3.5,1.5
	         	c-1.3,0.3-2.5,0.5-3.9,0.5c-1.5,0-2.9-0.3-4.1-0.8s-2.4-1.2-3.3-2.2c-0.9-0.9-1.6-2-2.1-3.3s-0.8-2.7-0.8-4.2s0.3-2.9,0.8-4.2
	         	c0.5-1.3,1.2-2.4,2.2-3.3c0.9-0.9,2-1.6,3.3-2.2c1.3-0.5,2.6-0.8,4.1-0.8c1.6,0,3,0.2,4.1,0.7s2.2,1.1,3,2L162.9,18.8z"/>
          </g>
        </svg>
        <svg width='182px' height='182px' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ripple"><rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect><g> <animate attributeName="opacity" dur="4s" repeatCount="indefinite" begin="0s" keyTimes="0;0.33;1" values="1;1;0"></animate><circle cx="50" cy="50" r="40" stroke="#eeeeee" fill="none" stroke-width="2" stroke-linecap="round"><animate attributeName="r" dur="4s" repeatCount="indefinite" begin="0s" keyTimes="0;0.33;1" values="0;22;44"></animate></circle></g><g><animate attributeName="opacity" dur="4s" repeatCount="indefinite" begin="2s" keyTimes="0;0.33;1" values="1;1;0"></animate><circle cx="50" cy="50" r="40" stroke="#eeeeee" fill="none" stroke-width="2" stroke-linecap="round"><animate attributeName="r" dur="4s" repeatCount="indefinite" begin="2s" keyTimes="0;0.33;1" values="0;22;44"></animate></circle></g></svg>
      </div>
      <!-- Chatbox menu -->
      <div id="#login-container"></div>
      <div id="chatbox-links-container">
        <span class="link chatbox-link" onclick="showChat('chat')">Chat</span>
        | <span class="link chatbox-link" onclick="showChat('work')">Work Log</span>
        | <span class="link chatbox-link" onclick="showChat('trans')">Transactions</span>
      </div>
      <div class="chatbox-border chatbox">
        <ul id="chat"></ul>
        <ul id="work-log"></ul>
        <ul id="transactions"></ul>
        <form class="chat-form" action="">
          <input class="chat-form-input" id="msg" autocomplete="off" type="text" maxlength="300"/><button class="chat-form-button">Send</button>
        </form>
      </div>


      <div id="games-box" class="games-box" style="display:inline-block">
        <span id="dice" onclick="client.selectGame(this, 'dice')" class="game-choice-box">Dice</span>
        <span onclick="client.selectGame(this, 'poker')" class="game-choice-box">Poker</span>
        <span onclick="client.selectGame(this, 'bust')" class="game-choice-box">Bust</span>
        <span onclick="client.selectGame(this, 'lottery')" class="game-choice-box">Lottery</span>
      </div>
    </div>
     <!-- Right half -->
    <div style="background-color: #ffffffff; display: inline-block; height: 100%; width: 49%; margin-left: 14px; text-align:center; margin-top: 15px;">
    <!--       Here is where you will play a game wagering your shares and bits in a player vers player or casino enviroment. -->
      <div id="pieChart"></div>
      <div class="server-info">Total: <span id="total-shares"></span> Miners: <span id="total-miners"></span> Stratum (days): <span id="total-uptime"></span><div>
    </div>

  <!-- Start login modal -->
  <div id="loginModal" class="modal fade login-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
    <div class="modal-dialog modal-sm" role="document">
      <div style="width: 240px; height: 240px;" class="modal-content">
        <div id="column_container" style="padding: 5px">
          <div id="row_container" style="padding: 5px; margin-left: 18px;">
            <button class="btn btn-primary" onclick="login()">Log In</button>
            <button id="create-account-button" class="btn btn-success" onclick="createAccount(); validateUsername()">Create Account</button>
          </div>
          <div id="username-container">
            <input type="text" id="username" class="form-control" placeholder="Username">
            <span id="username-msg"></span>
          </div>
          <div>
            <input style="margin-top: 5px;" id="password" type="password" class="form-control" onkeydown="event.keyCode === 13 && login()" placeholder="Password">
          </div>
          <span class="warning"><b>SAVE YOUR PASSWORD SOMEWHERE SAFE, THERE IS NO EMAIL RECOVERY!!!<b></span>
        </div>
      </div>
    </div>
  </div>


</html>
