
/*  var i = 0, l = lC.miner.lC.getNumThreads();
  do {
    cpuData[i] = [ {x: 0, y: 0 } ];
    seriesData.push({ name: 'Thread ' + i, color: palette.color(), data: cpuData[i] });
  } while(++i < l);

  if(window.outerWidth < 701) graph.height = window.outerWidth / 10
*/



const graphics = {
  palette: new Rickshaw.Color.Palette({scheme: 'spectrum2000'}),
  userpalette: new Rickshaw.Color.Palette({scheme: 'cool'}),
  pie: {
    pieContent: {}
  },
}


/*
 Object.assign(graph, new Rickshaw.Graph({ 
    element: document.getElementById("chart"),
    width: 500, height: 150, renderer: 'stack', stroke: true,
    series: series
  }));

*/

var pie = graphics.pie, pieContent = graphics.pie.pieContent = []; //pieContent = [];


//const cpuData = graphics.cpuChart.cpuData
//, graph   = graphics.cpuChart.graph
//const palette = graphics.graphingPalette
//, userpalette = graphics.userPalette;
//, series  = graphics.cpuChart.series
//, note    = graphics.cpuChart.note
//, time = 0;

function loadPieChart() {
//  if(!leatClient.miningConfig.threads) {
//    setTimeout(()=>{
//      $('#pieChart svg').css('margin-top', 100+($('#pieChart svg').css('margin-top').slice(-2)|0) + "px")
//    }, 0)
//  }
  // Our 'mobile' version.
  if(window.outerWidth < 501) {
	new d3pie("pieChart", {
		"header": {
			"title": {
				"fontSize": 24,
				"font": "open sans"
			},
			"subtitle": {
				"color": "#999999",
				"fontSize": 12,
				"font": "open sans"
			},
			"titleSubtitlePadding": 9
		},
		"footer": {
			"text": "Approximated next payout (300k Bits)",
			"color": "#020101",
			"fontSize": 20,
			"font": "exo",
			"location": "bottom-center"
		},
		"size": {
			"canvasHeight": 370,
			"canvasWidth": 470,
			"pieOuterRadius": "100%"
		},
		"data": {
			"sortOrder": "value-desc",
			"smallSegmentGrouping": {
				"enabled": true,
				"label": "Other users"
			},
			"content": pieContent
		},
		"labels": {
			"outer": {

				"pieDistance": 0
			},
			"inner": {
				"hideWhenLessThanPercentage": 3
			},
			"mainLabel": {
				"color": "#5179ae",
				"fontSize": 13
			},
			"percentage": {
				"color": "#ffffff",
				"fontSize": 11,
				"decimalPlaces": 0
			},
			"value": {
				"color": "#40c07f",
				"fontSize": 11
			},
			"lines": {
				"enabled": true
			},
			"truncation": {
				"enabled": true,
				"truncateLength": 12
			}
		},
		"tooltips": {
			"enabled": true,
			"type": "placeholder",
			"string": "{label}: {value}, {percentage}%",
			"styles": {
				"backgroundColor": "#d4d2d2"
			}
		},
		"effects": {
			"pullOutSegmentOnClick": {
				"effect": "elastic",
				"speed": 400,
				"size": 12
			}
		},
		"misc": {
			"gradient": {
				"enabled": true,
				"percentage": 100
			}
		}
	})
  // Our desktop version.
  } else {
    pie = new d3pie("pieChart", {
        "header": {
          "title": { "text": "Approximated next payout (300k Bits)",	"fontSize": 24,	"font": "open sans"	},
          "subtitle": {
              "text": "After each block is found your shares are automagically converted into Monero bits.",
              "color": "#999999",
              "fontSize": 12,
              "font": "open sans",
          "text-shadow": "none"
          },
          "titleSubtitlePadding": 9
        },
        "footer": {	"color": "#999999",	"fontSize": 10,	"font": "open sans", "location": "bottom-left" },
        "size": { "canvasWidth": 590, "pieOuterRadius": "90%" },
        "data": {	"sortOrder": "value-desc",	"content": pieContent },
        "labels": {
          "outer": { "pieDistance": 32	},
          "inner": {"hideWhenLessThanPercentage": 3	},
          "mainLabel": {"fontSize": 11 },
          "percentage": {	"color": "#ffffff",	"decimalPlaces": 0 },
          "value": { "color": "#adadad", "fontSize": 11 },
          "lines": { "enabled": true },
        "truncation": {	"enabled": true	}
      },
      "effects": {
          "pullOutSegmentOnClick": {"effect": "linear","speed": 400,"size": 15}
      },
      "misc": {
          "gradient": {	"enabled": true, "percentage": 100	}
      }
    })
  }
}

